<html>

<body style="margin:0;padding:0">

<script>
    
    var pbjs = pbjs || {};
    var unitCode = '1';

    // code must be unique. It's an ID you used to identify with your adserver tag. 
    // sizes are required. 
    pbjs.adUnits = [
        {
            code: unitCode,
            sizes: [[300, 250]],
            bids: [{
                        bidder: 'appnexus',
                        params: {
                           placementId: '4799418'
                        }
                    },
                    {
                        bidder: 'rubicon',
                        params: {
                           rp_account : '9707',
                           rp_site: '17955',
                           rp_zonesize : '50983-15',
                           rp_floor : '0.1'
                        }
                    }, {
                        bidder: 'pubmatic',
                        params: {
                            publisherId: 39741,
                            adSlot: '39620189@300x250'
                        }
                    }]
        }];

    //  Optional callback handler function that will get called when all bids are available for timed out
    pbjs.registerBidCallbackHandler = function(){
        pbjs.initAdserverSet = true;

        var params = pbjs.getAdserverTargetingParamsForAdUnit(unitCode);
        pbjs.renderAd(document, params['hb_adid']);

    
        console.log('Are all bids available? : ' + pbjs.allBidsAvailable()); // return bool

        console.log('Targeting params:')
        console.log(JSON.stringify(pbjs.getAdserverTargetingParamsForAdUnit()));

        console.log('Dumping all bid objects to console:');
        console.log(pbjs.getBidResponses()); // or pass a code to get one particular ad unit

        

    };

    // (function() {
    //     var pbjsEl = document.createElement("script"); pbjsEl.type = "text/javascript"
    //     pbjsEl.async = true; 
    //     pbjsEl.src = '/assets/js/prebid.js';
    //     var csaTargetEl = document.getElementsByTagName("head")[0];
    //     csaTargetEl.insertBefore(pbjsEl, csaTargetEl.firstChild);
    // })();
    
    (function() {
        var pbjsEl = document.createElement("script"); pbjsEl.type = "text/javascript";
        pbjsEl.async = true; var isHttps = 'https:' === document.location.protocol;
        pbjsEl.src = (isHttps ? "https://a248.e.akamai.net/appnexus.download.akamai.com/89298/adnexus-prod" : "http://cdn.adnxs.com") + "/tag/v/prebid/0.1.1/prebid.js";
        var pbjsTargetEl = document.getElementsByTagName("head")[0];
        pbjsTargetEl.insertBefore(pbjsEl, pbjsTargetEl.firstChild);
    })();


</script>

</body>

</html>